(function(t){function e(e){for(var r,o,s=e[0],l=e[1],u=e[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);c&&c(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",dense:""}},[n("v-toolbar-title",[t._v("収集着地計算")]),n("v-spacer"),n("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""}},r),[n("v-icon",[t._v("mdi-apps")])],1)]}}])},[n("v-list",[n("v-subheader",{attrs:{inset:""}},[t._v("Tool")]),t._l(t.apps,(function(e,r){return n("v-list-item",{key:r,attrs:{href:e.href}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)}))],2)],1),n("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""}},r),[n("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[n("v-list",t._l(t.menus,(function(e,r){return n("div",{key:r},[n("v-subheader",{attrs:{inset:""},domProps:{textContent:t._s(e.subheader)}}),t._l(e.submenus,(function(e,r){return n("v-list-item",{key:r,attrs:{href:e.href}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)}))],2)})),0)],1)],1),n("v-content",[n("AppMain")],1),n("v-footer",{attrs:{dark:"",padless:""}},[n("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[n("v-card-text",{staticClass:"py-2 white--text text-center"},[t._v(" 2020 — "),n("strong",[t._v("れみんちゃんねる")])])],1)],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-card",{staticClass:"elevation-10"},[n("v-card-title",{staticClass:"headline"},[t._v("特攻設定")]),n("v-card-subtitle",[t._v("特攻の組み合わせを全部計算するのでデッキに設定していない特攻もカウントして設定してください。サポ分のカウントは不要です。")]),n("v-card-text",t._l(t.inputs.eventAbilityCards,(function(e){return n("v-row",{key:e.label},[n("v-col",{attrs:{cols:"10"}},[n("v-slider",{attrs:{max:9,min:0,step:"1",ticks:"always","tick-size":"2","hide-details":"",label:e.label},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"x.value"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{staticClass:"mt-0 pt-0",attrs:{type:"number","hide-details":"","single-line":""},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"x.value"}})],1)],1)})),1)],1)],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-card",{staticClass:"elevation-10"},[n("v-card-title",{staticClass:"headline"},[t._v("サポ設定")]),n("v-card-subtitle",[t._v("利用するサポの特攻レベルを設定してください。特攻なしのパターンは自動的に計算します。")]),n("v-card-text",[n("v-row",[n("v-subheader",[t._v("ギルド内")])],1),n("v-row",{staticClass:"mr-0 mt-n5",attrs:{align:"center",justify:"space-around"}},t._l(t.inputs.eventAbilityCards,(function(e){return n("v-checkbox",{key:e.label,attrs:{label:e.label},model:{value:e.internal_supporter,callback:function(n){t.$set(e,"internal_supporter",n)},expression:"x.internal_supporter"}})})),1),n("v-row",[n("v-subheader",[t._v("ギルド外")])],1),n("v-row",{staticClass:"mr-0 mt-n5",attrs:{align:"center",justify:"space-around"}},t._l(t.inputs.eventAbilityCards,(function(e){return n("v-checkbox",{key:e.label,attrs:{label:e.label},model:{value:e.external_supporter,callback:function(n){t.$set(e,"external_supporter",n)},expression:"x.external_supporter"}})})),1)],1)],1)],1),n("v-col",[n("v-card",{staticClass:"elevation-10"},[n("v-card-title",{staticClass:"headline"},[t._v("着地計算")]),n("v-card-subtitle",[t._v("収集数の現在値と目標値を設定するとチャンスボスを討伐するときの特攻数を計算します。")]),n("v-card-text",[n("v-row",[n("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"6"}},[n("v-text-field",{staticClass:"mt-0 pt-0",attrs:{type:"number",label:"現在値",outlined:"",rules:[t.rules.required,t.rules.positiveNumber]},model:{value:t.inputs.currentCount,callback:function(e){t.$set(t.inputs,"currentCount",t._n(e))},expression:"inputs.currentCount"}})],1),n("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"6"}},[n("v-text-field",{staticClass:"mt-0 pt-0",attrs:{type:"number",label:"目標値",outlined:"",rules:[t.rules.required,t.rules.positiveNumber]},model:{value:t.inputs.targetCount,callback:function(e){t.$set(t.inputs,"targetCount",t._n(e))},expression:"inputs.targetCount"}})],1)],1),n("v-row",[n("v-col",{staticClass:"mt-n5 pt-0",attrs:{cols:"12"}},[n("v-switch",{staticClass:"mt-0 pt-0",attrs:{label:"リーダーカードは特攻以外を使用"},model:{value:t.inputs.leaderCardSwitch,callback:function(e){t.$set(t.inputs,"leaderCardSwitch",e)},expression:"inputs.leaderCardSwitch"}})],1)],1),n("v-row",[n("v-col",{staticClass:"mt-0 pt-0"},[t.landingSucceeded?n("div",{staticClass:"primary--text"},[n("p",{staticClass:"mb-0"},[t._v("チャンスボス "+t._s(t.landingPlanTable.length)+" 回で着地できます。")]),n("p",{staticClass:"mb-1"},[t._v(t._s(t.landingPlanExpression))])]):n("div",{staticClass:"error--text"},[t._v(t._s(t.landingErrorMessage))]),n("v-data-table",{attrs:{headers:t.dropCombinationHeader,items:t.landingPlanTable,"items-per-page":5,"hide-default-footer":""}})],1)],1)],1)],1)],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"elevation-10"},[n("v-card-title",{staticClass:"headline"},[t._v("全ドロップの組み合わせ")]),n("v-card-subtitle",[t._v(" 特攻の組み合わせはドロップ数ごとに 1 パターンのみ表示します。 ")]),n("v-data-table",{attrs:{headers:t.dropCombinationHeader,items:t.dropCombinationTableReverse,"items-per-page":5}})],1)],1)],1)],1)},s=[],l=(n("99af"),n("7db0"),n("c740"),n("a15b"),n("d81d"),n("13d5"),n("a9e3"),n("8ba4"),n("2909")),u={name:"AppMain",app:"landing",data:function(){return{rules:{required:function(t){return!!t||"Required"},positiveNumber:function(t){return t>=0||"Positive number"}},eventAbilityKeys:["lv1","lv2","lv3","lv4","lv5"],eventDifficulty:["甘口","中辛","辛口","激辛","超激辛"],stageDefinition:{"甘口":{card_drops:[2,3,4,6,10],chance_boss_drop:50},"中辛":{card_drops:[4,6,8,12,20],chance_boss_drop:75},"辛口":{card_drops:[6,9,12,18,30],chance_boss_drop:140},"激辛":{card_drops:[12,18,24,36,60],chance_boss_drop:250},"超激辛":{card_drops:[24,36,48,72,120],chance_boss_drop:500}},dropCombinationHeader:[{text:"チャンスボス",value:"chance_boss"},{text:"特攻Lv1",value:"lv1"},{text:"特攻Lv2",value:"lv2"},{text:"特攻Lv3",value:"lv3"},{text:"特攻Lv4",value:"lv4"},{text:"特攻Lv5",value:"lv5"},{text:"サポ",value:"supporter"},{text:"ドロップ数",value:"drop"}],eventCardCombinationHeader:[{text:"特攻Lv1",value:"lv1"},{text:"特攻Lv2",value:"lv2"},{text:"特攻Lv3",value:"lv3"},{text:"特攻Lv4",value:"lv4"},{text:"特攻Lv5",value:"lv5"},{text:"特攻合計",value:"sum"}],landingSucceeded:!1,landingErrorMessage:"",debug:!1,inputs:{version:2,eventAbilityCards:[{label:"Lv1",index:0,value:9,internal_supporter:!0,external_supporter:!0},{label:"Lv2",index:1,value:1,internal_supporter:!0,external_supporter:!0},{label:"Lv3",index:2,value:1,internal_supporter:!0,external_supporter:!0},{label:"Lv4",index:3,value:0,internal_supporter:!0,external_supporter:!0},{label:"Lv5",index:4,value:0,internal_supporter:!0,external_supporter:!0}],currentCount:240808,targetCount:242424,leaderCardSwitch:!1}}},mounted:function(){if(localStorage[this.app]&&!this.debug){var t=JSON.parse(localStorage[this.app]);t&&t.version==this.inputs.version&&(this.inputs=t)}},watch:{inputs:{handler:function(t){localStorage[this.app]=JSON.stringify(t)},deep:!0}},computed:{eventAbilityCardValues:function(){return this.inputs.eventAbilityCards.map((function(t){return t.value}))},landingPlanTable:function(){return this.createLandingPlanTable()||[]},landingPlanExpression:function(){var t=[this.inputs.currentCount].concat(Object(l["a"])(this.landingPlanTable.map((function(t){return t.drop}))));return t.join(" + ")+" = "+this.inputs.targetCount},dropCombinationTable:function(){return this.createDropCombinationTable()||[]},dropCombinationTableReverse:function(){var t=Object(l["a"])(this.dropCombinationTable);return t.reverse()},eventCardCombination:function(){var t=0,e=this.inputs.leaderCardSwitch?8:9,n=this.eventAbilityCardValues;return this.calcEventCardCombination(t,e,n)},eventCardCombinationTable:function(){return this.createEventCardCombinationTable()||[]}},methods:{createLandingPlanTable:function(){if(this.landingSucceeded=!1,this.landingErrorMessage="",!Number.isInteger(this.inputs.currentCount)||this.inputs.currentCount<0)return this.landingErrorMessage="現在値には正数を指定して下さい。",void console.log("Invalid currentCount: "+this.inputs.currentCount);if(!Number.isInteger(this.inputs.targetCount)||this.inputs.targetCount<0)return this.landingErrorMessage="目標値には正数を指定して下さい。",void console.log("Invalid targetCount: "+this.inputs.targetCount);var t=this.inputs.targetCount-this.inputs.currentCount;if(!Number.isInteger(t))return this.landingErrorMessage="現在地・目標値には正数を指定して下さい。",void console.log("Diff is not integer: "+t);if(0==t)return this.landingErrorMessage="着地済みです。",void console.log("Too small diff: "+t);if(t<0)return this.landingErrorMessage="目標値を超えています。",void console.log("Too small diff: "+t);if(t<50)return this.landingErrorMessage="目標値が近すぎて着地できません。",void console.log("Too small diff: "+t);if(t>5e3)return this.landingErrorMessage="目標値が遠すぎて着地計算できません。",void console.log("Too large diff: "+t);var e=this.dropCombinationTable,n=[];if(this.createLandingPlanTableSimple(n,t,e)||this.createLandingPlanTableRecur(n,t,e,1)||this.createLandingPlanTableRecur(n,t,e,2)||this.createLandingPlanTableRecur(n,t,e,3))return this.landingSucceeded=!0,n;this.landingErrorMessage="現在の値では着地できません。"},createLandingPlanTableSimple:function(t,e,n){var r=n.find((function(t){return t.drop==e}));return r?(t.push(r),!0):(r=n.find((function(t){return t.drop==e/2})),!!r&&(t.push(r),t.push(r),!0))},createLandingPlanTableRecur:function(t,e,n,r){var a=function e(a,i,o){if(0==i)return t.push.apply(t,Object(l["a"])(a)),!0;if(i<50)return!1;if(r<=o)return!1;var s=n.findIndex((function(t){return t.drop>=i}));s<0&&(s=n.length-1);for(var u=s;u>=0;u--){var c=n[u];if(e([c].concat(Object(l["a"])(a)),i-c.drop,o+1))return!0}return!1};return a([],e,0)},createDropCombinationTable:function(){for(var t=[],e=0,n={},r=0;r<this.eventCardCombination.length;r++)for(var a=this.eventCardCombination[r],i=0;i<this.eventDifficulty.length;i++){var o=this.eventDifficulty[i];this.createDropCombinationMaybe(t,n,e++,o,a,null,"none");for(var s=0;s<this.inputs.eventAbilityCards.length;s++){var l=this.inputs.eventAbilityCards[s];l.internal_supporter&&this.createDropCombinationMaybe(t,n,e,o,a,l,"internal"),l.external_supporter&&this.createDropCombinationMaybe(t,n,e,o,a,l,"external")}}return t.sort((function(t,e){return t.drop-e.drop})),t},createDropCombinationMaybe:function(t,e,n,r,a,i,o){var s=this.calcTotalDrop(r,a,i,o);e[s]||(e[s]=!0,t.push({no:n,lv1:a[0],lv2:a[1],lv3:a[2],lv4:a[3],lv5:a[4],supporter:this.createSupporterName(i,o),chance_boss:r,drop:s}))},createSupporterName:function(t,e){return"none"==e?"特攻なし":"external"==e?t.label+" (ギルド外)":t.label+" (ギルド内)"},calcTotalDrop:function(t,e,n,r){var a=this.stageDefinition[t],i=this.sumProduct(a.card_drops,e),o=0;return"none"!=r&&(o=a.card_drops[n.index],"external"==r&&(o=Math.ceil(o/2))),3*(i+o)+a.chance_boss_drop},sumProduct:function(t,e){return t.map((function(t,n){return t*e[n]})).reduce((function(t,e){return t+e}),0)},createEventCardCombinationTable:function(){for(var t=[],e=this.eventCardCombination,n=0;n<e.length;n++)t.push({no:n,lv1:e[n][0],lv2:e[n][1],lv3:e[n][2],lv4:e[n][3],lv5:e[n][4],sum:e[n].reduce((function(t,e){return t+e}))});return t},calcEventCardCombination:function(t,e,n){for(var r=function t(e,n,r,a,i,o,s,l,u,c,d,p,v){var b=a+i+o+s+l;b!=n?(u>0&&r<=1&&t(e,n,1,a+1,i,o,s,l,u-1,c,d,p,v),c>0&&r<=2&&t(e,n,2,a,i+1,o,s,l,u,c-1,d,p,v),d>0&&r<=3&&t(e,n,3,a,i,o+1,s,l,u,c,d-1,p,v),p>0&&r<=4&&t(e,n,4,a,i,o,s+1,l,u,c,d,p-1,v),v>0&&r<=5&&t(e,n,5,a,i,o,s,l+1,u,c,d,p,v-1)):e.push([a,i,o,s,l])},a=[],i=t;i<=e;i++)r.apply(void 0,[a,i,1,0,0,0,0,0].concat(Object(l["a"])(n)));return a}}},c=u,d=n("2877"),p=n("6544"),v=n.n(p),b=n("b0af"),f=n("99d9"),h=n("ac7c"),m=n("62ad"),C=n("a523"),g=n("8fea"),x=n("0fd9"),_=n("ba0d"),y=n("e0c7"),T=n("b73d"),w=n("8654"),k=Object(d["a"])(c,o,s,!1,null,null,null),S=k.exports;v()(k,{VCard:b["a"],VCardSubtitle:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCheckbox:h["a"],VCol:m["a"],VContainer:C["a"],VDataTable:g["a"],VRow:x["a"],VSlider:_["a"],VSubheader:y["a"],VSwitch:T["a"],VTextField:w["a"]});var V={name:"App",components:{AppMain:S},data:function(){return{apps:[{text:"収集効率計算",icon:"mdi-bookmark-outline",href:"https://fifthremin24.github.io/puyoq/collection-efficiency/"},{text:"収集着地計算",icon:"mdi-bookmark-outline",href:"https://fifthremin24.github.io/puyoq/landing/"},{text:"塔のスコア計算",icon:"mdi-bookmark-outline",href:"https://fifthremin24.github.io/tower-score/matrix.html"},{text:"マルチ招待用リンク生成",icon:"mdi-bookmark-outline",href:"https://fifthremin24.github.io/multi-invite/index.html"}],menus:[{subheader:"Contribute",submenus:[{text:"ソースコード",icon:"mdi-github-circle",href:"https://github.com/fifthremin24/puyoq/tree/master/landing/"},{text:"課題の一覧",icon:"mdi-format-list-checks",href:"https://github.com/fifthremin24/puyoq/issues"},{text:"バグ報告",icon:"mdi-bug",href:"https://github.com/fifthremin24/puyoq/issues/new"}]},{subheader:"Contact",submenus:[{text:"Twitter",icon:"mdi-twitter",href:"https://twitter.com/fifthremin24"},{text:"YouTube",icon:"mdi-youtube",href:"https://www.youtube.com/channel/UCyl4JuSF_-tTcmjPEoWAhkQ"},{text:"Blog",icon:"mdi-fountain-pen-tip",href:"https://fifthremin24.hatenablog.com"}]}]}}},P=V,L=n("7496"),M=n("40dc"),j=n("8336"),E=n("a75b"),O=n("553a"),A=n("132d"),D=n("8860"),I=n("da13"),N=n("5d23"),$=n("34c3"),q=n("e449"),R=n("2fa4"),J=n("2a7f"),H=Object(d["a"])(P,a,i,!1,null,null,null),B=H.exports;v()(H,{VApp:L["a"],VAppBar:M["a"],VBtn:j["a"],VCard:b["a"],VCardText:f["b"],VContent:E["a"],VFooter:O["a"],VIcon:A["a"],VList:D["a"],VListItem:I["a"],VListItemContent:N["a"],VListItemIcon:$["a"],VListItemTitle:N["b"],VMenu:q["a"],VSpacer:R["a"],VSubheader:y["a"],VToolbarTitle:J["a"]});var F=n("f309");r["a"].use(F["a"]);var z=new F["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:z,render:function(t){return t(B)}}).$mount("#app")}});
//# sourceMappingURL=app.df7b187d.js.map